# シナリオITテスト作成ガイド

## 1. テスト設計フレームワーク

### 基本構造
| 項目 | 説明 | 例 |
|------|------|-----|
| テストNo | 一意識別子 | IT_S_40001 |
| シナリオ名 | テスト目的 | 中断・再開 |
| 説明 | 詳細条件 | 再開可能、保険種類：[201] |
| 使用メアド | テスト用アカウント | test001@example.com |
| 商品 | 対象商品種別 | メディカル礎、セブン等 |
| ステータス | プロセス状態 | 13(申込用お客様ページ登録処理完了) |
| 想定結果 | 期待する動作 | 商品改訂後も再開可 |

## 2. テストケース分類マトリックス

### 2.1 商品別 × 状態別マトリックス

```
           │13│14│05│06│07│08│02│03│99│10│11│12│09│
メディカル礎│○│○│○│×│-│-│×│×│×│×│×│×│×│
セブン     │○│○│○│×│-│-│×│×│×│×│×│×│×│
スリー     │○│○│○│×│-│-│×│×│×│×│×│×│×│
がん治療極 │○│○│-│-│-│○│×│×│×│×│×│×│×│
ワイド     │-│-│○│-│○│-│○│○│○│○│○│○│○│

○：再開可能  ×：再開不可  -：該当なし
```

### 2.2 時期別テストパターン

#### A. 商品改訂前の中断
- **目的**: 既存申込の改訂後動作確認
- **パターン**: 
  - 早期段階での中断（13, 14, 05） → 再開可能
  - 後期段階での中断（06以降） → 再開不可

#### B. 商品改訂後の中断  
- **目的**: 新システムでの正常動作確認
- **パターン**: 全段階で再開可能

## 3. テストシナリオ作成手順

### Step 1: 要件分析
```markdown
- 業務要件の整理
- システム変更点の把握
- 影響範囲の特定
```

### Step 2: テストケース設計
```markdown
- 正常系パターンの洗い出し
- 異常系パターンの洗い出し  
- 境界値テストの設計
- 組み合わせテストの設計
```

### Step 3: テストデータ準備
```markdown
- テスト用メールアドレス作成
- ダミー日付設定（例：2025-07-15、2025-09-29）
- 商品マスタ更新SQLの準備
```

### Step 4: 実行手順書作成
```markdown
- 事前条件の設定
- 操作手順の詳細記述
- 確認ポイントの明確化
- エビデンス取得方法の指定
```

## 4. 品質確保のポイント

### 4.1 網羅性の確保
- **直交表の活用**: 組み合わせ爆発を防ぎつつ網羅性確保
- **ペアワイズ法**: 重要な組み合わせを効率的にテスト
- **境界値分析**: 状態遷移の境界での動作確認

### 4.2 トレーサビリティ管理
```
要件 → 設計 → テストケース → 実行結果
```

### 4.3 再現性の確保
- 環境設定の標準化
- テストデータの管理
- 実行手順の詳細化

## 5. テストケース記述テンプレート

```markdown
### IT_S_XXXXX: [シナリオ名]

**目的**: [テストの目的]

**事前条件**:
- システム状態：[状態]
- テストデータ：[データ]
- 環境設定：[設定]

**テスト手順**:
1. [操作1]
2. [操作2]
3. [操作3]

**期待結果**:
- [期待する動作1]
- [期待する動作2]

**確認ポイント**:
- [確認項目1]
- [確認項目2]

**エビデンス**:
- 画面キャプチャ：[対象画面]
- ログ出力：[対象ログ]
```

## 6. 実装時の注意事項

### 6.1 データ管理
- メールアドレスの重複回避
- テスト実行順序の考慮
- データクリーンアップの実装

### 6.2 環境管理  
- ダミー日付の適切な設定
- ブランチ管理の徹底
- パッチSQL適用タイミング

### 6.3 結果判定
- 自動判定条件の明確化
- 手動確認ポイントの特定
- 異常時の対応手順

## 7. 継続的改善

### 7.1 メトリクス管理
- テスト実行時間
- 不具合検出率
- テストケース数

### 7.2 プロセス改善
- レビュープロセスの強化
- 自動化範囲の拡大
- ナレッジ共有の促進
