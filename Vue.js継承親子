# Vue.js è¦ªå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ - æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘è§£èª¬

## ğŸ  åŸºæœ¬æ¦‚å¿µï¼šè¦ªå­é–¢ä¿‚ã¨ã¯ï¼Ÿ

Vue.jsã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€Œå®¶æ—ã€ã®ã‚ˆã†ãªé–¢ä¿‚ã‚’æŒã¡ã¾ã™ã€‚

```
è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Parent)
â”œâ”€â”€ å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ1 (Child1)  
â”œâ”€â”€ å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ2 (Child2)
â””â”€â”€ å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ3 (Child3)
```

## ğŸ“¤ è¦ªã‹ã‚‰å­ã¸ï¼šPropsï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

**è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Parent.vue)**
```vue
<template>
  <div>
    <h1>ä¿é™ºã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h1>
    <!-- å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ -->
    <UserInfo 
      :name="userName" 
      :age="userAge"
      :gender="userGender"
    />
  </div>
</template>

<script>
import UserInfo from './UserInfo.vue'

export default {
  components: {
    UserInfo
  },
  data() {
    return {
      userName: 'ç”°ä¸­å¤ªéƒ',
      userAge: 30,
      userGender: 'ç”·æ€§'
    }
  }
}
</script>
```

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (UserInfo.vue)**
```vue
<template>
  <div class="user-info">
    <p>ãŠåå‰: {{ name }}</p>
    <p>å¹´é½¢: {{ age }}æ­³</p>
    <p>æ€§åˆ¥: {{ gender }}</p>
  </div>
</template>

<script>
export default {
  // è¦ªã‹ã‚‰å—ã‘å–ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©
  props: {
    name: String,
    age: Number,
    gender: String
  }
}
</script>
```

### Props ã®å‹æŒ‡å®šï¼ˆæ¨å¥¨ï¼‰

```javascript
// åŸºæœ¬çš„ãªå‹æŒ‡å®š
props: {
  name: String,
  age: Number,
  isActive: Boolean,
  options: Array,
  config: Object
}

// è©³ç´°ãªæŒ‡å®šï¼ˆæœ¬æ ¼çš„ï¼‰
props: {
  name: {
    type: String,
    required: true,  // å¿…é ˆ
    default: 'åç„¡ã—'
  },
  age: {
    type: Number,
    validator(value) {
      return value >= 0 && value <= 120
    }
  }
}
```

## ğŸ“¥ å­ã‹ã‚‰è¦ªã¸ï¼šEventsï¼ˆã‚¤ãƒ™ãƒ³ãƒˆï¼‰

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

**å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (CalculatorForm.vue)**
```vue
<template>
  <div>
    <select v-model="selectedAmount" @change="notifyParent">
      <option value="5000">5,000å††</option>
      <option value="10000">10,000å††</option>
    </select>
    
    <button @click="calculate">ä¿é™ºæ–™è¨ˆç®—</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      selectedAmount: 5000
    }
  },
  methods: {
    notifyParent() {
      // è¦ªã«å¤‰æ›´ã‚’é€šçŸ¥
      this.$emit('amount-changed', this.selectedAmount)
    },
    
    calculate() {
      const result = this.selectedAmount * 12 // å¹´é¡è¨ˆç®—
      // è¦ªã«çµæœã‚’é€ä¿¡
      this.$emit('calculation-done', {
        amount: this.selectedAmount,
        yearlyTotal: result
      })
    }
  }
}
</script>
```

**è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (InsuranceSimulator.vue)**
```vue
<template>
  <div>
    <h1>ä¿é™ºæ–™ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
    
    <!-- å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚‹ -->
    <CalculatorForm 
      @amount-changed="handleAmountChange"
      @calculation-done="handleCalculationResult"
    />
    
    <p v-if="currentAmount">ç¾åœ¨ã®é¸æŠ: {{ currentAmount }}å††</p>
    <p v-if="yearlyAmount">å¹´é–“ä¿é™ºæ–™: {{ yearlyAmount }}å††</p>
  </div>
</template>

<script>
import CalculatorForm from './CalculatorForm.vue'

export default {
  components: {
    CalculatorForm
  },
  data() {
    return {
      currentAmount: 0,
      yearlyAmount: 0
    }
  },
  methods: {
    handleAmountChange(newAmount) {
      this.currentAmount = newAmount
      console.log('é‡‘é¡ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸ:', newAmount)
    },
    
    handleCalculationResult(result) {
      this.currentAmount = result.amount
      this.yearlyAmount = result.yearlyTotal
      console.log('è¨ˆç®—å®Œäº†:', result)
    }
  }
}
</script>
```

## ğŸ”„ å®Ÿè·µä¾‹ï¼šä¿é™ºãƒ•ã‚©ãƒ¼ãƒ ã®è¦ªå­æ§‹é€ 

### å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾‹

**è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (ProductDetailSumame.vue)**
```vue
<template>
  <div class="insurance-form">
    <!-- åŸºæœ¬æƒ…å ±å…¥åŠ› -->
    <BasicInfo 
      :application="application"
      @user-info-updated="updateUserInfo"
    />
    
    <!-- ä¿é™ºãƒ—ãƒ©ãƒ³é¸æŠ -->
    <PlanSelector
      :available-plans="availablePlans"
      :selected-plan="selectedPlan"
      @plan-changed="handlePlanChange"
    />
    
    <!-- ä¿é™ºæ–™è¡¨ç¤º -->
    <PremiumDisplay
      :premium="calculatedPremium"
      :breakdown="premiumBreakdown"
    />
  </div>
</template>

<script>
export default {
  data() {
    return {
      application: {
        name: '',
        age: 0,
        gender: ''
      },
      selectedPlan: null,
      calculatedPremium: 0,
      premiumBreakdown: []
    }
  },
  
  methods: {
    updateUserInfo(userInfo) {
      this.application = { ...this.application, ...userInfo }
      this.recalculatePremium()
    },
    
    handlePlanChange(newPlan) {
      this.selectedPlan = newPlan
      this.recalculatePremium()
    },
    
    recalculatePremium() {
      // ä¿é™ºæ–™ã®å†è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
      if (this.selectedPlan && this.application.age) {
        this.calculatedPremium = this.calculatePremium()
      }
    }
  }
}
</script>
```

## ğŸš¨ ã‚ˆãã‚ã‚‹é–“é•ã„ã¨è§£æ±ºç­–

### âŒ é–“é•ã„1: Props ã‚’ç›´æ¥å¤‰æ›´ã™ã‚‹

```javascript
// ãƒ€ãƒ¡ãªä¾‹
props: ['value'],
methods: {
  updateValue() {
    this.value = 'new value' // ã‚¨ãƒ©ãƒ¼ï¼Propsã¯èª­ã¿å–ã‚Šå°‚ç”¨
  }
}
```

```javascript
// æ­£ã—ã„ä¾‹
props: ['value'],
data() {
  return {
    localValue: this.value // ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ”ãƒ¼ã‚’ä½œã‚‹
  }
},
methods: {
  updateValue() {
    this.localValue = 'new value'
    this.$emit('input', this.localValue) // è¦ªã«é€šçŸ¥
  }
}
```

### âŒ é–“é•ã„2: ã‚¤ãƒ™ãƒ³ãƒˆåã®å‘½åè¦å‰‡

```javascript
// ãƒ€ãƒ¡ãªä¾‹
this.$emit('updateData', data) // ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹

// è‰¯ã„ä¾‹  
this.$emit('update-data', data) // ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹
```

### âŒ é–“é•ã„3: æ·±ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ›´

```javascript
// æ³¨æ„ãŒå¿…è¦ãªä¾‹
props: ['config'],
methods: {
  updateConfig() {
    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’å¤‰æ›´ï¼ˆå‚ç…§ã¯åŒã˜ï¼‰
    this.config.name = 'new name' // å‹•ããŒæ¨å¥¨ã•ã‚Œãªã„
  }
}
```

```javascript
// æ¨å¥¨ã•ã‚Œã‚‹æ–¹æ³•
methods: {
  updateConfig() {
    const newConfig = { ...this.config, name: 'new name' }
    this.$emit('config-updated', newConfig)
  }
}
```

## ğŸ› ï¸ å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆã§ã®è¦ªå­é–¢ä¿‚

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ã‚ˆãè¦‹ã‚‹è¦ªå­ã®ã‚„ã‚Šå–ã‚Šï¼š

```javascript
// ãƒ†ã‚¹ãƒˆã§ã®è¦ªå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ¤œè¨¼
it('è¦ªã‹ã‚‰å­ã«propsãŒæ­£ã—ãæ¸¡ã•ã‚Œã‚‹', () => {
  const wrapper = mount(ParentComponent, {
    propsData: {
      application: getApplication(),
      constants: getConstants()
    }
  })
  
  // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  const childComponent = wrapper.findComponent(ChildComponent)
  expect(childComponent.exists()).toBe(true)
  
  // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒpropsã‚’å—ã‘å–ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  expect(childComponent.props('application')).toEqual(getApplication())
})

it('å­ã‹ã‚‰è¦ªã«ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚Œã‚‹', async () => {
  const wrapper = mount(ChildComponent)
  
  // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  await wrapper.find('button').trigger('click')
  
  // ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºè¡Œã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª
  expect(wrapper.emitted('button-clicked')).toBeTruthy()
  expect(wrapper.emitted('button-clicked')[0]).toEqual(['clicked'])
})
```

## ğŸ“š ã¾ã¨ã‚

### åŸºæœ¬ãƒ«ãƒ¼ãƒ«
1. **è¦ª â†’ å­**: Props ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™
2. **å­ â†’ è¦ª**: Events ã‚’ä½¿ã£ã¦å¤‰æ›´ã‚’é€šçŸ¥
3. **Props ã¯èª­ã¿å–ã‚Šå°‚ç”¨**: ç›´æ¥å¤‰æ›´ã—ã¦ã¯ã„ã‘ãªã„
4. **ã‚¤ãƒ™ãƒ³ãƒˆåã¯ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹**: `user-updated` ãªã©

### è¦šãˆã¦ãŠãã“ã¨
- Propsï¼šãƒ‡ãƒ¼ã‚¿ã‚’ä¸‹ã«æµã™
- Eventsï¼šå¤‰æ›´ã‚’ä¸Šã«ä¼ãˆã‚‹  
- å˜æ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼šãƒ‡ãƒ¼ã‚¿ã¯è¦ªã‹ã‚‰å­ã¸ä¸€æ–¹é€šè¡Œ
- è²¬ä»»åˆ†é›¢ï¼šå„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è‡ªåˆ†ã®å½¹å‰²ã«é›†ä¸­

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- Vuex/Piniaï¼ˆçŠ¶æ…‹ç®¡ç†ï¼‰
- Provide/Injectï¼ˆæ·±ã„éšå±¤ã§ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ï¼‰
- Composition APIï¼ˆVue 3ã®æ–°ã—ã„æ›¸ãæ–¹ï¼‰

ã“ã®åŸºæœ¬ã‚’ãƒã‚¹ã‚¿ãƒ¼ã™ã‚Œã°ã€Vue.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ ãŒç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼
